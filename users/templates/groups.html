<%doc>
	Author: John Turner
	Version: 1.3
	Updated: 2/5/15

	This is the page through which administrators can view all groups in the system. 
</%doc>

<%inherit file="/base_admin/templates/View.htm" />

<%block name="tab_title">
  View Groups
</%block>


<%block name="page_title_h1">
	<h1>View Groups</h1>
</%block>

<%block name="create_button_block">
	<a class="button" href="/users/groups.create/">
		<paper-button class="create_button" raised>Add New Group</paper-button>
	</a>
</%block>
	
<%block name="view_table">
  	
	<table class="table table-hover table-bordered">
		<thead>
			<tr>
				<th>
					<paper-button raised class="">Select All</paper-button>
				</th>
				<th>
					Name
				</th>
				<th>
					Number of Members
				</th>
				<th>
					Actions
				</th>
			</tr>
		</thead>
		<tbody>
			%for group in groups:
				<tr>
					<td>
						<paper-checkbox></paper-checkbox>
					</td>
					<td>
						${ group.name }
					</td>
					<td>
						${ group.user_set.all().count() }
					</td>
					<td>
						## <paper-button raised class="success_button">View</paper-button> ## This view functionality isn't needed now
						<a class="button" href="/users/groups.edit/${ group.id }">
							<paper-button raised class="edit_button">Edit</paper-button>
						</a>
						<a class="button" href="/users/groups.delete/${ group.id }">
							<paper-button raised class="delete_button">Delete</paper-button>
						</a>
					</td>
				</tr>
			%endfor
		</tbody>
	</table>	
	
</%block>